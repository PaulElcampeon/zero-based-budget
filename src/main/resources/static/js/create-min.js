document.getElementById("page-title-id").addEventListener("click",(e=>{location.href="../"}));var expenses=[];const expenseList=document.getElementById("expense-list"),expenseInputRow=document.getElementById("expense-input-row"),divExpenseAddBtn=document.getElementById("expense-add+btn"),expenseAddBtn=document.getElementById("add-btn-expense"),expenseTotal1=document.getElementById("expense-total-1"),expenseTotal2=document.getElementById("expense-total-2");var incomes=[];const incomeList=document.getElementById("income-list"),incomeInputRow=document.getElementById("income-input-row"),divIncomeAddBtn=document.getElementById("income-add+btn"),incomeAddBtn=document.getElementById("add-btn-income"),incomeTotal1=document.getElementById("income-total-1"),incomeTotal2=document.getElementById("income-total-2"),incomeAndExpenseTotal=document.getElementById("income-expense-total"),incomeValueInput=document.getElementById("income-name-value"),incomeTitleInput=document.getElementById("input-income-title"),expenseValueInput=document.getElementById("expense-name-value"),expenseTitleInput=document.getElementById("input-expense-title"),incomeTotal5=document.getElementById("income-total-5"),expenseTotal5=document.getElementById("expense-total-5"),incomeAndExpenseTotal5=document.getElementById("income-expense-total-5"),m1=document.getElementById("m1"),m2=document.getElementById("m2");function renderExpenses(){expenseList.innerHTML="";for(let e=0;e<expenses.length;e++){let n=expenses[e],t=document.createElement("li");t.className="item input-row item-row";let a=document.createElement("div"),l=document.createElement("input");l.className="input-title",l.type="text",l.pattern="[A-Za-z0-9]+",l.placeholder="INCOME",l.disabled=!0,l.value=n.name;let d=document.createElement("div"),i=document.createElement("input");i.className="input-value",i.type="text",i.pattern="[0-9]+",i.placeholder="VALUE",i.disabled=!0,i.value=n.cost.toFixed(2);let c=document.createElement("h1");c.className="money-sign",c.innerHTML="£",a.appendChild(l),d.appendChild(i);let o=document.createElement("i");o.className="fa-solid fa-minus minus",t.appendChild(a),t.appendChild(c),t.appendChild(d),t.appendChild(o),expenseList.appendChild(t),d.addEventListener("click",(e=>i.disabled=!1)),a.addEventListener("click",(e=>l.disabled=!1)),i.addEventListener("change",(n=>{i.disabled=!0,updateExpense({index:e,title:l.value,value:i.value})})),l.addEventListener("change",(n=>{l.disabled=!0,updateExpense({index:e,title:l.value,value:i.value})})),o.addEventListener("click",(n=>removeExpense(e)))}expenseList.appendChild(expenseInputRow),expenseList.appendChild(divExpenseAddBtn),expenseList.scrollTop=expenseList.scrollHeight}function updateExpense(e){let{index:n,title:t,value:a}=e;expenses[n].name=t,expenses[n].cost=parseFloat(a),renderExpenses(),calculateTotals()}function renderIncomes(){incomeList.innerHTML="";for(let e=0;e<incomes.length;e++){let n=incomes[e],t=document.createElement("li");t.className="item input-row item-row";let a=document.createElement("div"),l=document.createElement("input");l.className="input-title",l.type="text",l.pattern="[A-Za-z0-9]+",l.placeholder="INCOME",l.disabled=!0,l.value=n.name;let d=document.createElement("div"),i=document.createElement("input");i.className="input-value",i.type="text",i.pattern="[0-9]+",i.placeholder="VALUE",i.disabled=!0,i.value=n.cost.toFixed(2);let c=document.createElement("h1");c.className="money-sign",c.innerHTML="£",a.appendChild(l),d.appendChild(i);let o=document.createElement("i");o.className="fa-solid fa-minus minus",t.appendChild(a),t.appendChild(c),t.appendChild(d),t.appendChild(o),incomeList.appendChild(t),d.addEventListener("click",(e=>i.disabled=!1)),a.addEventListener("click",(e=>l.disabled=!1)),i.addEventListener("change",(n=>{i.disabled=!0,updateIncome({index:e,title:l.value,value:i.value})})),l.addEventListener("change",(n=>{l.disabled=!0,updateIncome({index:e,title:l.value,value:i.value})})),o.addEventListener("click",(n=>removeIncome(e)))}incomeList.appendChild(incomeInputRow),incomeList.appendChild(divIncomeAddBtn),incomeList.scrollTop=incomeList.scrollHeight}function updateIncome(e){let{index:n,title:t,value:a}=e;incomes[n].name=t,incomes[n].cost=parseFloat(a),renderIncomes(),calculateTotals()}function addIncome(){const e=document.getElementById("input-income-title"),n=e.value.trim(),t=parseFloat(incomeValueInput.value);if(""!==n&&!isNaN(t)){const a={name:n,cost:t};incomes.push(a),e.value="",incomeValueInput.value="",renderIncomes(),calculateTotals()}}function addExpense(){const e=document.getElementById("input-expense-title"),n=e.value.trim(),t=parseFloat(expenseValueInput.value);if(""!==n&&!isNaN(t)){const a={name:n,cost:t};expenses.push(a),e.value="",expenseValueInput.value="",renderExpenses(),calculateTotals()}}function removeIncome(e){incomes.splice(e,1),renderIncomes(),calculateTotals()}function removeExpense(e){expenses.splice(e,1),renderExpenses(),calculateTotals()}function calculateTotals(){const e=incomes.reduce(((e,n)=>e+n.cost),0).toFixed(2);incomeTotal1.innerHTML=e,incomeTotal2.innerHTML=e;const n=expenses.reduce(((e,n)=>e+n.cost),0).toFixed(2);expenseTotal1.innerHTML=n,expenseTotal2.innerHTML=n;const t=(e-n).toFixed(2);incomeAndExpenseTotal.classList.remove("black"),incomeAndExpenseTotal5.classList.remove("black"),m1.classList.remove("black"),m2.classList.remove("black"),t<0&&(incomeAndExpenseTotal.classList.add("black"),incomeAndExpenseTotal5.classList.add("black"),m1.classList.add("black"),m2.classList.add("black")),incomeAndExpenseTotal.innerHTML=Math.abs(t).toFixed(2),incomeTotal5.innerHTML=e,expenseTotal5.innerHTML=n,incomeAndExpenseTotal5.innerHTML=Math.abs(t).toFixed(2);const a=t<0?"-£":"£";m1.innerHTML=a,m2.innerHTML=a}function removeNonNumericCharacters(e){return e.replace(/[^\d.]/g,"")}function removeNonNumericCharactersFromInputValue(e){e.value=removeNonNumericCharacters(e.value)}function logout(){localStorage.removeItem("tokie")}incomeAddBtn.addEventListener("click",addIncome),expenseAddBtn.addEventListener("click",addExpense),incomeValueInput.addEventListener("input",(e=>removeNonNumericCharactersFromInputValue(e.target))),expenseValueInput.addEventListener("input",(e=>removeNonNumericCharactersFromInputValue(e.target))),incomeValueInput.addEventListener("change",addIncome),expenseValueInput.addEventListener("change",addExpense),incomeTitleInput.addEventListener("change",addIncome),expenseTitleInput.addEventListener("change",addExpense);